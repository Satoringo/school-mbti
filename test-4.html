<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>è¨ºæ–­ 4/4ï½œã™ãã‚¿ã‚¤ãƒ—16</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="wrap">
    <header class="badge">
      <span class="dot"></span> è¨ºæ–­ 4 / 4ï¼ˆL / Rï¼‰
    </header>

    <section class="card">
      <h2>å­¦ã³æ´¾ / ã‚¢ã‚¯ãƒ†ã‚£ãƒ–æ´¾ ãƒã‚§ãƒƒã‚¯</h2>
      <p class="mini">å­¦æ ¡ã§ã®éã”ã—æ–¹ã«è¿‘ã„ã»ã†ã‚’é¸ã‚“ã§ã­ï¼ˆ6å•ï¼‰</p>
    </section>

    <div id="qWrap" class="grid"></div>

    <div class="cta">
      <button id="resultBtn" class="btn primary" disabled>çµæœã‚’è¦‹ã‚‹</button>
      <a class="btn secondary" href="test-3.html">â† æˆ»ã‚‹</a>
    </div>
  </div>

  <script>
    const questions = [
      { text:"ä¼‘ã¿æ™‚é–“ã¯â€¦", A:"å¸­ã§ã‚†ã£ãã‚Šã—ãŸã„", B:"ã©ã“ã‹è¡ŒããŸã„", pointA:"L", pointB:"R" },
      { text:"æ”¾èª²å¾Œã¯â€¦", A:"å®¶ã‚„è‡ªç¿’æ™‚é–“ãŒå¥½ã", B:"éƒ¨æ´»ãƒ»éŠã³ã«è¡ŒããŸã„", pointA:"L", pointB:"R" },
      { text:"å­¦æ ¡è¡Œäº‹ã¯â€¦", A:"è¦‹ã‚‹å´ã§ã‚‚æº€è¶³", B:"å‚åŠ ã™ã‚‹å´ãŒæ¥½ã—ã„", pointA:"L", pointB:"R" },
      { text:"å„ªå…ˆã—ãŒã¡ãªã®ã¯â€¦", A:"å‹‰å¼·ãƒ»è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹", B:"å‹ã ã¡ãƒ»ã‚¤ãƒ™ãƒ³ãƒˆ", pointA:"L", pointB:"R" },
      { text:"è‡ªç”±æ™‚é–“ãŒã§ããŸã‚‰â€¦", A:"èª­æ›¸ãƒ»å‹•ç”»ãƒ»èª¿ã¹ã‚‚ã®", B:"å¤–ã«å‡ºãŸã„ãƒ»å‹•ããŸã„", pointA:"L", pointB:"R" },
      { text:"å­¦æ ¡ç”Ÿæ´»ã§å¤§äº‹ãªã®ã¯â€¦", A:"è½ã¡ç€ã„ãŸæ™‚é–“", B:"ã«ãã‚„ã‹ãªæ™‚é–“", pointA:"L", pointB:"R" },
    ];

    const KEY="smbti_score_v1";
    const score = JSON.parse(localStorage.getItem(KEY) || '{"L":0,"R":0}');
    const wrap=document.getElementById("qWrap");
    let answered=0;

    questions.forEach((q,i)=>{
      const d=document.createElement("div");
      d.className="card";
      d.innerHTML=`
        <h3>Q${i+19}. ${q.text}</h3>
        <div class="cta">
          <button class="btn primary">A. ${q.A}</button>
          <button class="btn secondary">B. ${q.B}</button>
        </div>`;
      const [a,b]=d.querySelectorAll("button");
      const lock=()=>{
        a.disabled=true; b.disabled=true;
        answered++;
        document.getElementById("resultBtn").textContent =
          answered>=6 ? "ğŸ‰ çµæœã‚’è¦‹ã‚‹" : `ã‚ã¨ ${6-answered} å•`;
        if(answered>=6){
          document.getElementById("resultBtn").disabled=false;
        }
      };
      a.onclick=()=>{ score[q.pointA]=(score[q.pointA]||0)+1; localStorage.setItem(KEY,JSON.stringify(score)); lock(); };
      b.onclick=()=>{ score[q.pointB]=(score[q.pointB]||0)+1; localStorage.setItem(KEY,JSON.stringify(score)); lock(); };
      wrap.appendChild(d);
    });
document.getElementById("resultBtn").onclick=()=>{
  const KEY="smbti_score_v1";
  const s = JSON.parse(localStorage.getItem(KEY) || "{}");

  const type =
    (s.S >= s.C ? "S" : "C") +
    (s.T >= s.W ? "T" : "W") +
    (s.G >= s.M ? "G" : "M") +
    (s.L >= s.R ? "L" : "R");

  // â˜… çµæœãƒšãƒ¼ã‚¸ç”¨ã«ä¿å­˜
  localStorage.setItem("smbti_type", type);

  location.href = "result.html";
};

    
  </script>
</body>
</html>
